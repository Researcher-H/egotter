<%= modal_dialog(id: 'open-twitter-modal', title: t('.title_html'), button: {positive: t('.yes'), negative: t('.no')}) do %>
  <%= render(partial: 'adsense/ad', locals: {vertical: :modal}) %>
<% end %>

<script>
  $(function () {
    var $modal = $('#open-twitter-modal');

    function openTwitter(screenName) {
      window.open('https://twitter.com/' + screenName, '_blank');
    }

    $modal.on('show.bs.modal', function (e) {
      var $button = $(e.relatedTarget);
      var screenName = $button.data('screen-name');
      $modal.find('.modal-title .screen-name').text(screenName);
      $modal.find('button.positive').off('click').on('click', function () {
        openTwitter(screenName);
      });
    });
  });
</script>
