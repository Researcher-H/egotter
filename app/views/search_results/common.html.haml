- if @user_items.any?
  - if @user_items.first_page? && @user_items.many? && @graph.present?
    = render(partial: 'searches/graph_item',
      locals: {tu: @searched_tw_user, menu: menu, user_items: @user_items, graph: @graph, tweet_text: @tweet_text})

  .page-entries-info-top
    = render(partial: 'searches/page_entries_info',
      locals: {params: {controller: :searches, action: action_name, screen_name: @searched_tw_user.screen_name}, items: @user_items})

  - rendered_uids = []
  %div.twitter.users{id: menu}
    = render(partial: 'twitter/user', collection: @user_items.map { |i| i[:target] }, cached: true, locals: {uids: rendered_uids})

  .page-entries-info-bottom
    = render(partial: 'searches/page_entries_info',
      locals: {params: {controller: :searches, action: action_name, screen_name: @searched_tw_user.screen_name}, items: @user_items})
- else
  - if user_signed_in?
    - if @searched_tw_user.too_many_friends?(login_user: current_user)
      %div= t('after_sign_in.empty_and_sign_in_and_too_many_friends_html', user: @searched_tw_user.mention_name, kaomoji: Kaomoji.unhappy)
    - else
      %div= t('after_sign_in.empty_and_other_reason_html', kaomoji: Kaomoji.happy)
  - else
    - welcome_sign_in_path = welcome_path(via: "#{controller_name}/#{action_name}/empty_result")
    - if @searched_tw_user.many_friends?
      %div= t('before_sign_in.empty_and_anonymous_and_many_friends_html', user: @searched_tw_user.mention_name, sign_in_path: welcome_sign_in_path, kaomoji: Kaomoji.happy)
    - else
      %div= t('before_sign_in.empty_and_other_reason_html', sign_in_path: welcome_sign_in_path, kaomoji: Kaomoji.unhappy)
  = render(partial: 'twitter/tweet_box', locals: {text: empty_result_text(title_for(menu, @searched_tw_user.screen_name))})

= render(partial: 'common/adsense', locals: {action: action_name, vertical: :bottom})

.return-to-results-bottom= link_to(t('searches.common.return', user: @searched_tw_user.mention_name), search_path(screen_name: @searched_tw_user.screen_name))
