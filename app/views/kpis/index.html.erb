<div class="container dau" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
<br>

<hr>

<div class="container search_num" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
<br>

<hr>

<div class="container new_user" style="min-width: 310px; height: 400px; margin: 0 auto"></div>
<br>

<script>
  var dateTimeLabelFormats = {
    millisecond: '%H:%M:%S.%L',
        second: '%H:%M:%S',
      minute: '%H:%M',
      hour: '%H:%M',
      day: '%e. %b',
      week: '%e. %b',
      month: '%b \'%y',
      year: '%Y'
  };

  var config = {
    credits: {
      enabled: false
    },
    title: {
      text: 'title'
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: dateTimeLabelFormats
    },
    yAxis: {
      title: {
        text: 'yAxis'
      }
    },
    tooltip: {
      valueSuffix: ''
    },
    legend: {
      layout: 'vertical',
      align: 'right',
      verticalAlign: 'middle',
      borderWidth: 0
    },
    series: null
  };

  var config_stacked = {
    credits: {
      enabled: false
    },
    chart: {
      type: 'area'
    },
    title: {
      text: 'title'
    },
    xAxis: {
      type: 'datetime',
      dateTimeLabelFormats: dateTimeLabelFormats
    },
    yAxis: {
      title: {
        text: 'yAxis'
      }
    },
    tooltip: {
      valueSuffix: ''
    },
    legend: {
      layout: 'vertical',
      align: 'right',
      verticalAlign: 'middle',
      borderWidth: 0
    },
    series: null
  };

  function draw_dau(){
    var conf = $.extend(true, {}, config);
    conf.title.text = 'DAU';
    conf.series = <%= raw @dau.to_json %>;
    $('.container.dau').highcharts(conf);
  }

  function draw_search_num(){
    var conf = $.extend(true, {}, config_stacked);
    conf.title.text = 'Search num';
    conf.series = <%= raw @search_num.to_json %>;
    $('.container.search_num').highcharts(conf);
  }

  function draw_new_user(){
    var conf = $.extend(true, {}, config);
    conf.title.text = 'New user';
    conf.series = <%= raw @new_user.to_json %>;
    $('.container.new_user').highcharts(conf);
  }

  $(function () {
    draw_dau();
    draw_search_num();
    draw_new_user();
  });
</script>
