<script>
  $(function () {
    var width = $('.adsense-container').width();
    if (width < 300) { // iPhone 5
      $('.adsense-container').css('margin-left', '-' + (300 - width) / 2 + 'px');
    }
  })
</script>

<%
  slot =
    case [user_signed_in?, action, vertical]
      when [true,  'new',  :top]    then '1499207213'
      when [true,  'show', :top]    then '2975940411'
      when [true,  'show', :bottom] then '4452673613'
      when [true,  'show', :slit]   then '9958552019'
      when [false, 'new',  :top]    then '4742208415'
      when [false, 'show', :top]    then '6218941612'
      when [false, 'show', :bottom] then '7695674812'
      when [false, 'show', :slit]   then '5528352415'
      else nil
    end
 slot = (user_signed_in? ? '8405195212' : '6928462015') unless slot
%>

<div class="adsense-container">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <ins class="adsbygoogle"
       style="display:inline-block;width:300px;height:250px"
       data-ad-client="ca-pub-3146843071247817"
       data-ad-slot="<%= slot %>"></ins>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>
