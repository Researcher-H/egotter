// https://web.archive.org/web/20110822230850/http://ducky199999.appspot.com:80/jsp/cluster.jsp
class TweetCluster {
  constructor() {
    this.allowList = ['( ´Д`)', '(>_<)', '(^-^)', '(^q^)', '(^人^)', '(´;ω;｀)', '(´ω｀)', '(´Д` )', '(´∀｀)', '(´・ω・`)', '(ΦωΦ)', '(ノД`)', '(｡-_-｡)', '(ﾟ∀ﾟ)', '3DS', 'AKB', 'AZU', 'Apple', 'CSS', 'C++', 'Cassandra', 'C言語', 'C＋＋', 'DJ', 'Disco', 'EXILE', 'Echofone', 'F1', 'FC岐阜', 'FC東京', 'FaceBook', 'GALAPAGOS', 'Galaxy', 'HASKEL', 'HIP HOP', 'Hip-Hop', 'IE6', 'IKEA', 'JAXA', 'JIN', 'JK', 'JUMP', 'JavaScript', 'KARA', 'LISP', 'Linux', 'MBA', 'Microsoft', 'NASA', 'NBA', 'NHK', 'NMB', 'NMB', 'OCaml', 'OOO', 'Oracle', 'PHP', 'PSP', 'Panasonic', 'Perfume', 'Perl', 'Python', 'R&B', 'Ruby', 'SCHEME', 'SDN', 'SKE', 'SMAP', 'SMAP', 'SPEC', 'Scala', 'Skype', 'SoftBank', 'TBS', 'TOKIO', 'TRPG', 'Techno', 'UFO', 'UMA', 'VIPPER', 'VJ', 'WBS', 'WILLCOM', 'Wi-Fi', 'Wii', 'XBOX', 'Xperia', 'YUI', 'ZEP', 'ZONE', 'amazon', 'android', 'ardino', 'bot', 'censored', 'chrome', 'cisco', 'clasicc', 'disって', 'docomo', 'domune', 'experia', 'firefox', 'google', 'house', 'iPad', 'iPhone', 'index', 'java', 'jazz', 'kindle', 'ktkr', 'kwsk', 'mixi', 'orz', 'smap', 'soul', 'tokio', 'w-inds', 'wiki', 'wktk', 'yahoo', 'ʕ•̫͡•ʔ', '∞', '⊂((・x・))⊃', 'あの花', 'おわコン', 'お好み焼き', 'お尻', 'かつ丼', 'このまま眠りつづけて死ぬ', 'こんなの絶対おかしいよ', 'さや侍', 'たい焼き', 'たこ焼き', 'つけ麺', 'と聞いて', 'のび太', 'はてブ', 'まどか☆マギカ', 'まどかマギカ', 'みそ汁', 'むぎ', 'もふ', 'ももクロ', 'やや', 'アイコンの気持ち', 'アゴ', 'イカ娘', 'エモ', 'ガリガリ君', 'キキ', 'キュゥべえ', 'キュウべえ', 'クズ', 'サガ', 'サレ', 'ジジ', 'スネ夫', 'ゼル', 'ゾロ', 'ティロ・フィナーレ', 'テレ東', 'ドヤ', 'ドラえもん', 'ドラミちゃん', 'ニコ動', 'ニコ生', 'ネギ', 'ネギま', 'ネタ', 'バグ', 'フジ', 'ブン太', 'マンＵ', 'ムー様', 'モフ', 'ヨガ', 'ラブ人間', 'ルカ子', '三重', '中井', '中日', '中継', '主婦', '主婦', '乙夜', '二郎', '交渉', '京介', '京急', '京極', '京都', '人狼', '仏像', '代数', '伊達', '佐賀', '佳林', '便所', '信長', '修造', '俳句', '俺の嫁', '俺妹', '倉間', '倫理', '偏向', '健全', '元就', '兄弟', '兄貴', '先生', '先輩', '光速', '全裸', '兵庫', '兼光', '円堂', '円風', '写真', '冥途', '凌統', '分析', '初音ミク', '刹那', '刺身', '刺身', '剛毛', '副垢', '助手', '動物', '勝呂', '募金', '化学', '医者', '十代', '千早', '千葉', '半熟', '卓球', '南極', '南沢', '参戦', '司法', '吃驚', '吉武', '吉良', '吉野', '名言', '吹雪', '和希', '和希', '和物', '哲学', '唯', '営業', '回文', '団子', '囲碁', '土門', '地獄', '基山', '埼玉', '声優', '声優', '変態', '外科', '外貨', '夢美', '大丈夫だ', '大分', '大宮', '大正', '大石', '大阪', '天使', '天則', '天国', '天子', '天空', '奈々', '奈良', '女医', '女王', '妄想', '姉妹', '姉御', '姐御', '姐御', '姜維', '婚活', '嫁', '子ども', '子犬', '宇宙', '定期', '実況', '宮地', '宮城', '宮崎', '家康', '富山', '寝落ち', '寧々', '将臣', '小売', '小室', '小魚', '小鳥', '少佐', '就活', '尾浜', '山口', '山形', '山梨', '岐阜', '岡山', '岡崎', '岩手', '島根', '嵐', '川崎', '工場', '工学', '巨乳', '巨人', '布団', '師匠', '平塚', '平沢', '幸村', '幼女', '幾何', '広告', '広島', '廃人', '廉造', '廣瀬', '建築', '弾幕', '影華', '後藤', '徳島', '徹夜', '心理', '忍たま', '忍者', '志摩', '快斗', '恍惚', '恐ろしい子', '悪人', '悪化', '悪魔', '意識高い', '愛媛', '愛媛FC', '愛生', '愛知', '慶應', '憂', '戦国', '手塚', '投資', '折紙', '抹茶', '拓南', '捗るぞ', '改変', '政宗', '政治', '教育', '散歩', '数学', '数学ガール', '数独', '文学', '文系', '斎賀', '料理', '新一', '新宿', '新潟', '旅行', '日テレ', '日ハム', '日常', '旦那', '早苗', '昆虫', '明治', '星ちゃん', '星占い', '星座', '映司', '映画', '春川', '昭和', '時計', '暇人', '暗殺', '有意義だったか', '本田', '札幌', '朱悠', '東京', '東南アジア', '東大', '東急', '東方', '東横', '林檎', '柏', '柔造', '栃木', '梓', '森ガール', '森田', '楽器', '楽天', '横丁', '横浜', '横浜FC', '次長', '正宗', '歯ブラシ', '歴史', '死期が近い', '残業', '段ボール', '民謡', '気象', '水戸', '水泳', '沖田', '沖縄', '法学', '法律', '流通', '浣腸', '浦和', '海獣', '海苔', '深夜', '深海', '清水', '渡部', '温泉', '温泉', '湘南', '滋賀', '演歌', '漢字', '漫画', '澪', '激辛', '瀧', '火狐', '炎上', '為替', '無双', '無線LAN', '無縁', '無視', '焼きそば', '照美', '熊本', '燐たん', '燻製', '燻製', '爆発しろ', '爆発しろ', '片桐', '牛丼', '牛乳', '牛乳', '牛角', '物理', '物理', '狂人', '狂人', '狐', '狸', '猫', '王将', '玩具', '理系', '環境', '生物', '田淵', '甲府', '甲斐', '疲労', '痛快', '痛車', '登山', '白目', '白石', '百合', '眉毛', '真山', '真田', '着物', '短歌', '石川', '研究', '確立', '磐田', '社畜', '社長', '神戸', '神曲', '神楽', '神話', '神話', '神速', '禅', '福井', '福山', '福岡', '福島', '秀吉', '秋田', '税金', '空気', '立綱', '竜馬', '筋トレ', '筋少', '筋肉', '節水', '節電', '簿記', '米英', '粘菌', '素材', '紳士', '経営', '経済', '結界', '統計', '絵本', '綱立', '線形', '編物', '編集', '練乳', '署名', '羅刹', '美味しんぼ', '美琴', '群馬', '翔ちゃん', '耳かき', '聖也', '聖川', '職人', '職質', '股間', '育児', '胸熱', '腕毛', '腰痛', '膀胱', '自作', '自炊', '至福', '般若', '花いろ', '花とゆめ', '花承', '花承', '英語', '茨城', '茶々', '草津', '荒ぶる', '萌え', '萌乃', '萎え', '落語', '蓮二', '薔薇', '薮', '藤内', '藤原', '虎丸', '虎兎', '虎徹', '虎豪', '虫', '虫歯', '裏山', '西島', '西川', '西東', '西部', '西野カナ', '見てる', '規制', '解脱', '言語', '証明', '詐欺', '詩緒', '読書', '課長', '課題', '論文', '貧乳', '跡部', '踊る', '軍師', '軍曹', '農業', '通信', '通販', '速報', '速読', '速読', '進撃の', '遅延', '遊戯', '遊星', '遊馬', '道徳', '邦衛', '郁人', '部長', '郭淮', '酵素', '野口', '野球', '野菜', '金妻', '金融', '金造', '金髪', '鈴泉', '鉄ヲタ', '鉄子', '鉄道', '鉄道', '鉢くく', '鉢雷', '銀さん', '銀河', '銀玉', '銀魂', '鎖骨', '長崎', '長野', '開発', '閑子', '関俊', '闇さん', '阪急', '阪神', '隊長', '雅楽', '離散', '雪歩', '雪燐', '雪男', '雲雀', '雷魚', '電卓', '電車', '霊圧', '青じそ', '青エク', '青プ', '青学', '青森', '静岡', '静雄', '非コミュ', '非モテ', '音ゲー', '音楽', '音速', '音速ライン', '音響', '須田', '風丸', '食器', '飲食', '餃子', '香川', '高専', '高知', '鬼帝', '鬼道', '魂フェス', '魔まマ', '魔術', '鳥取', '鳥栖', '鷹の爪', '鹿島', '麻雀', '（^人^）', '（ω）', '（゜Д゜）', '＼(^o^)／', 'ｵﾜﾀ', 'ｶﾞﾀｯ', 'ｶﾞﾗｯ', 'ｷﾘｯ', 'ｺﾞｸﾘ', 'ﾄﾞﾔ', 'ﾄﾞﾝｯ', 'ﾋﾞｸｯ', '京成', 'お絵描き', '真斗', '正臣', '毒島'];
    var denyList = ['C＋', 'あいつの', 'あたしが', 'あたしって', 'あたしに', 'あたしは', 'あたしも', 'あたしを', 'あった', 'あったら', 'あとは', 'あなたが', 'あなたがたが', 'あなたがたは', 'あなたと', 'あなたに', 'あなたの', 'あなたは', 'あなたを', 'ありがと', 'ありがとう', 'ありがとうございました', 'ありがとうございます', 'あります', 'ありますか', 'ありません', 'あるいは', 'あるのでしたら', 'あれ', 'あれだ', 'あれは', 'あんのか', 'あんま', 'あんまり', 'いいたいします', 'いいたします', 'いいな', 'いかな', 'いかなる', 'いから', 'いけど', 'いします', 'いしますです', 'いしますね', 'いしますー', 'いしまーす', 'いすんな', 'いすんなと', 'いたい', 'いたいこと', 'いたかった', 'いたかな', 'いたくて', 'いたなぁ', 'いたので', 'いたよ', 'いたら', 'いっきり', 'いってくる', 'いつける', 'いつも', 'いつもりで', 'いてあった', 'いてある', 'いてあるけど', 'いていきませんか', 'いている', 'いているのは', 'いてえな', 'いてた', 'いてない', 'いてます', 'いてみなさい', 'いてみませんか', 'いてる', 'いです', 'いですが', 'いですね', 'いですよ', 'いですよね', 'いとか', 'いなぁ', 'いなあ', 'いなく', 'いなる', 'いなー', 'いのか', 'いのかい', 'いのが', 'いので', 'いのに', 'いのは', 'いました', 'います', 'いますか', 'いますが', 'いますがよろしくお', 'いますぐ', 'いようです', 'いよね', 'いるなら', 'いれときます', 'いんです', 'うかな', 'うから', 'うけど', 'うございました', 'うございます', 'うじゃん', 'うだけ', 'うちの', 'うちは', 'うちも', 'うなや', 'うなよ', 'うのかな', 'うのが', 'うのだ', 'うので', 'うのです', 'うのは', 'うのやなさい', 'うべき', 'うよっ', 'うんだ', 'うんだけど', 'えがある', 'えきらない', 'えしなくちゃ', 'えたいよ', 'えたから', 'えたら', 'えてください', 'えてよね', 'えない', 'えないところに', 'えねえ', 'えました', 'えましたし', 'えます', 'えますか', 'えもん', 'えよう', 'えよな', 'えられない', 'えるかな', 'えるから', 'えると', 'えるね', 'えるように', 'えるんだ', 'おかえり', 'おかえりなさい', 'おかえりなさいませ', 'おかえりなさいー', 'おかえりなさい～', 'おかえりなさ～い', 'おかえりなさ～い', 'おかえりー', 'おかえり～', 'おかえり～', 'おかしいよ', 'おっと', 'おつあり', 'おつかり', 'おつかれさまです', 'おつかれさまー', 'おはよう', 'おはようございます', 'おはようございますー', 'おはようー', 'おはよう～', 'おはよー', 'おはよーう', 'おはよーございます', 'おめでとう', 'おめでとうございます', 'おやすみ', 'おやすみなさい', 'おやすみなさいませ', 'おやすみなさいー', 'おやすみなさい～', 'おやすみなさーい', 'おやすみなさ～い', 'おやすみなさ～い', 'おやすみー', 'おやすみ～', 'おやすみ～', 'おやすみ～', 'おれは', 'おわったー', 'かいの', 'かいます', 'かけてきます', 'かしい', 'かすぎて', 'かせたい', 'かった', 'かったです', 'かったので', 'かったのに', 'かったら', 'かっていない', 'かっている', 'かってない', 'かってる', 'かなぁ', 'かない', 'かないで', 'かなくなったら', 'かなければ', 'かなり', 'かなりの', 'かぬなら', 'からただいま', 'からない', 'からの', 'からん', 'かります', 'かれます', 'かれると', 'があがった', 'があったら', 'があって', 'があってだな', 'があり', 'がありましたら', 'があります', 'がある', 'があるとよく', 'があるの', 'があるのですか', 'があれば', 'がいい', 'がいた', 'がいたら', 'がいたり', 'がいて', 'がいなくて', 'がいる', 'がうまい', 'がおらんのでしょう', 'がかわいそうで', 'がきてた', 'がきました', 'がきれい', 'がくり', 'がくる', 'がしたいです', 'がして', 'がしてきた', 'がします', 'がすきだ', 'がすぐ', 'がすごい', 'がすごく', 'がする', 'がするけど', 'がずっと', 'がたまらない', 'がたまりません', 'がたまる', 'がだいすき', 'がって', 'がってろ', 'がついている', 'がつかないんだけど', 'がつかぬ', 'ができる', 'がとても', 'がなぁ', 'がない', 'がないと', 'がないのが', 'がないので', 'がはじまったね', 'がまだ', 'がやばい', 'がわかって', 'がわかる', 'がんばれ', 'きしめたい', 'きしめたりすると', 'きしめる', 'きすぎて', 'きそば', 'きたい', 'きたいけど', 'きたいな', 'きたかった', 'きたら', 'きだから', 'きだけど', 'きだぜ', 'きだった', 'きだったんです', 'きだな', 'きだよ', 'きっと', 'きつづけて', 'きてますか', 'きです', 'きですね', 'きながら', 'きなものが', 'きなものは', 'きなんだ', 'きなんだけど', 'きには', 'きはそちらの', 'きました', 'きましょう', 'きます', 'きませんか', 'ぎたい', 'くした', 'くしたって', 'くしてしまったり', 'くために', 'ください', 'くださいまし', 'くといいでしょう', 'くない', 'くなった', 'くなってきた', 'くなり', 'くなりたい', 'くなりました', 'くなりましたが', 'くなる', 'くなれ', 'くなれよ', 'くにいる', 'くのが', 'くのは', 'くのもいいけど', 'くよの', 'くらい', 'くれると', 'くわからん', 'くんが', 'くんと', 'くんの', 'くんは', 'くんも', 'くんを', 'ぐらい', 'けください', 'けたのです', 'けたら', 'けだよ', 'けだよ', 'けていく', 'けている', 'けてくれればいつでも', 'けてます', 'けとか', 'けない', 'けました', 'ければ', 'げてください', 'げてぐださい', 'げない', 'げなきゃ', 'げました', 'げます', 'げれる', 'こういう', 'こうよ', 'こえます', 'ここには', 'こされた', 'こしてくれます', 'こそは', 'こちらこそ', 'このまま', 'これから', 'これが', 'これだけ', 'これだけで', 'これで', 'これは', 'これを', 'こんあんは', 'こんな', 'こんなに', 'こんなの', 'こんなので', 'こんにちは', 'ごきげんよう', 'ごきげんよう～', 'ございます', 'ごした', 'ごしだと', 'ごそうぜ', 'ごめんなさい', 'さいな', 'さいね', 'さいよ', 'さくな', 'さすが', 'さすがに', 'させた', 'させて', 'させていただきました', 'させていただきましたので', 'させる', 'さっき', 'さっきから', 'さった', 'さてと', 'さない', 'さびは', 'された', 'されたい', 'されたときの', 'されたら', 'されたらあなたは', 'されたり', 'されて', 'されていません', 'されている', 'されてないので', 'されてます', 'されてる', 'されなかったら', 'されました', 'されます', 'されますので', 'される', 'されろ', 'さんお', 'さんから', 'さんが', 'さんだった', 'さんでした', 'さんでしたか', 'さんと', 'さんとすれ', 'さんとの', 'さんどうぞ', 'さんに', 'さんの', 'さんのあだ', 'さんのお', 'さんは', 'さんへ', 'さんへの', 'さんも', 'さんや', 'さんを', 'しいです', 'しいでも', 'しいと', 'しいなぁ', 'しいなって', 'しいね', 'しいのか', 'しいものです', 'しいよ', 'しいようです', 'しいような', 'しいように', 'しいわ', 'しかけ', 'しかけました', 'しかし', 'しかしない', 'しかった', 'しかったです', 'しかない', 'しかも', 'しくお', 'しください', 'しくて', 'しくは', 'しくはこちら', 'しくも', 'しくも', 'しすぎて', 'しそう', 'しそうに', 'した', 'したい', 'したから', 'したことある', 'したこの', 'したった', 'したって', 'したと', 'したのか', 'したので', 'したよ', 'したよー', 'したら', 'したり', 'したんですの', 'していた', 'していました', 'しています', 'していません', 'している', 'しておいた', 'してから', 'してきた', 'してください', 'してくださいな', 'してくださいませ', 'してくれたら', 'してくれよ', 'してくれるんだな', 'してしまっても', 'してた', 'してたら', 'してっと', 'してて', 'してても', 'してね', 'してました', 'してます', 'してみた', 'してみよう', 'しても', 'してやった', 'してやってください', 'してやろう', 'してよ', 'してる', 'してるのか', 'してるよ', 'しである', 'しない', 'しないと', 'しながら', 'しにかわりまして', 'しになる', 'しぶりに', 'しぶりの', 'しました', 'しましょう', 'します', 'しますよ', 'しませて', 'しませんか', 'しませんが', 'しませんように', 'しみです', 'しょう', 'しょうがないね', 'しよう', 'しようぜ', 'しようぜー', 'しようと', 'しようとしたら', 'しようよ', 'しろよ', 'しをみ', 'じです', 'じですね', 'じましたら', 'じます', 'じゃあ', 'じゃない', 'じゃないから', 'じゃないし', 'じゃないの', 'じゃないんだ', 'じゃなくて', 'じゃね', 'じゃねぇ', 'じゃねえ', 'じゃねえよ', 'じゃん', 'じれば', 'すいた', 'すいません', 'すおつもりがないのでしょう', 'すぎて', 'すぎで', 'すぎる', 'すぎるから', 'すげー', 'すことを', 'すごい', 'すごく', 'すって', 'すべての', 'すみません', 'する', 'するか', 'すること', 'することが', 'することに', 'することを', 'するぞ', 'するたび', 'すると', 'するに', 'するの', 'するのは', 'するのはお', 'するように', 'するわ', 'するんですか', 'すれば', 'すんですね', 'すんのよ', 'ずかしい', 'ずっと', 'せずにいこう', 'せてくれよ', 'せない', 'せになって', 'せめて', 'せるだろ', 'せるだろう', 'せるだろうが', 'せるの', 'せるのが', 'そういう', 'そういえば', 'そういや', 'そうか', 'そうすれば', 'そうだなあ', 'そうですか', 'そうですね', 'そうな', 'そして', 'そのう', 'そばに', 'そもそも', 'そりゃ', 'それから', 'それが', 'それでも', 'それと', 'それな', 'それなあ', 'それに', 'それは', 'それはいつか', 'それも', 'それを', 'そろそろ', 'そんな', 'ぞこないの', 'たいけど', 'たいです', 'たいと', 'たいのだ', 'たくて', 'たくない', 'たされる', 'ただいま', 'ただいまっ', 'ただいまー', 'たちが', 'たちの', 'たちは', 'たちを', 'たったる', 'たので', 'たぶん', 'たまえ', 'たまに', 'たんが', 'たんの', 'だから', 'だからな', 'だからね', 'だけが', 'だけで', 'だけど', 'だけにね', 'だけは', 'だしい', 'だそうです', 'だっけ', 'だった', 'だったか', 'だったのか', 'だったので', 'だったら', 'だったり', 'だったわ', 'だって', 'だとか', 'だなぁ', 'だなあ', 'だなー', 'だな～', 'だもう', 'だよ', 'だよな', 'だよね', 'だよー', 'だろう', 'だろうか', 'だろうが', 'だろうと', 'ちしております', 'ちしてます', 'ちだよね', 'ちなみに', 'ちます', 'ちゃだめだ', 'ちゃった', 'ちゃん', 'ちゃんが', 'ちゃんと', 'ちゃんに', 'ちゃんの', 'ちゃんは', 'ちゃんを', 'ちょっと', 'ちょっとした', 'ちょっとした', 'ちょっとは', 'っかた', 'っかむ', 'ったか', 'ったから', 'ったが', 'ったけど', 'ったし', 'ったの', 'ったので', 'ったのに', 'ったら', 'ったり', 'ったわ', 'ったんだけど', 'ったー', 'った～', 'っちゃいけない', 'っちゃったり', 'って', 'っていいもの', 'っていう', 'っていうか', 'っていうと', 'っていうと', 'っていうのは', 'っていうのもまた', 'っていた', 'っています', 'っている', 'っているなんて', 'っているので', 'っていろいろ', 'っておく', 'ってか', 'ってから', 'ってかれた', 'ってきた', 'ってきました', 'ってきます', 'ってください', 'ってくる', 'ってくるぜ', 'ってくるー', 'ってくれ', 'ってくれました', 'ってくれると', 'ってこい', 'ってことで', 'ってこよう', 'ってしまう', 'ってしまった', 'ってそういう', 'ってた', 'ってたから', 'ってたけど', 'ってたのに', 'ってたよ', 'ってたら', 'ってて', 'ってどんな', 'ってない', 'ってなに', 'ってなんだ', 'ってね', 'ってました', 'ってます', 'ってまた', 'ってみた', 'ってみたい', 'ってみたを', 'ってみたんよ', 'ってみて', 'ってみました', 'ってみるよ', 'っても', 'ってよ', 'ってる', 'ってるけど', 'ってるぜ', 'ってるの', 'ってるよ', 'ってるわ', 'ってろ', 'ってんだよ', 'っとう', 'っぽい', 'っぽさ', 'ついった', 'ついったー', 'ついて', 'ついでに', 'つくる', 'つけた', 'つけない', 'つぶやき', 'つまり', 'づいて', 'ていう', 'ていうか', 'ていけ', 'ていない', 'ていません', 'ている', 'てから', 'てきた', 'てきてもいいのよ', 'てください', 'てくるよ', 'てくれたの', 'てくれたのに', 'てくれよ', 'てくれよな', 'てことで', 'てたら', 'てても', 'てない', 'てなかった', 'てなんか', 'てぬか', 'てます', 'てみたい', 'てみてね', 'てよければ', 'てられないな', 'てれない', 'であったり', 'であって', 'であり', 'である', 'であれ', 'でいいよ', 'でいう', 'できた', 'できない', 'できました', 'できます', 'できる', 'でこんな', 'でした', 'でしたね', 'でしたー', 'でしょ', 'でしょうか', 'でしょうか', 'ですか', 'ですが', 'ですけどね', 'ですし', 'ですぞ', 'ですって', 'ですな', 'ですね', 'ですねー', 'ですのでご', 'ですみません', 'ですよ', 'ですよね', 'ですよー', 'でする', 'ですー', 'でないのに', 'でなく', 'ではありませんがね', 'ではない', 'ではなく', 'でもして', 'でもって', 'でもない', 'でやりたい', 'といい', 'という', 'というか', 'ということで', 'というと', 'というのは', 'というものは', 'というわけで', 'といえば', 'といったら', 'とかいう', 'とかだと', 'とかなる', 'とかなんでもお', 'とかの', 'とかはいい', 'とかも', 'ときて', 'ところで', 'としか', 'とした', 'として', 'としての', 'としては', 'としの', 'とします', 'とする', 'とするため', 'とすれ', 'とその', 'とても', 'とでも', 'とともに', 'となるのが', 'とのこと', 'とはいえ', 'とばっか', 'とりあえず', 'とりま', 'どういう', 'どうしたって', 'どうしたの', 'どうぞお', 'どうも', 'どうやって', 'どちらでも', 'どなたか', 'どもの', 'どれか', 'どんな', 'ないよ', 'なかった', 'ながら', 'なこと', 'なことで', 'なさい', 'なさいまし', 'なさいました', 'なさいませ', 'なさらずに', 'なぜか', 'なときに', 'などを', 'なにそれ', 'なの', 'なのか', 'なのかな', 'なのが', 'なのだ', 'なので', 'なのです', 'なのに', 'なように', 'ならば', 'なるほど', 'なんか', 'なんだ', 'なんだい', 'なんだか', 'なんだけど', 'なんだよ', 'なんだー', 'なんて', 'なんで', 'なんです', 'なんですかこれは', 'なんですよ', 'なんと', 'なんと', 'なんという', 'なんのために', 'にある', 'にいてその', 'にいませんが', 'にいようね', 'にいる', 'にいるとか', 'にいれて', 'にいれば', 'において', 'における', 'にかわって', 'にしか', 'にした', 'にしたら', 'にして', 'にしても', 'にしない', 'にしよう', 'にしろ', 'にしろよ', 'にする', 'にするか', 'にするからな', 'にすると', 'にするな', 'にするなら', 'にせず', 'にたい', 'にたくなる', 'について', 'についての', 'については', 'につく', 'にでも', 'にとって', 'にどうぞ', 'にどうぞー', 'にどんな', 'になぁ', 'にない', 'になった', 'になったものだ', 'になったら', 'になって', 'になっていたら', 'になっている', 'になってください', 'になってよ', 'になってる', 'にならない', 'にならん', 'になり', 'になりきって', 'になりたい', 'になりました', 'になります', 'になりますように', 'になる', 'になるから', 'になると', 'になるまで', 'になるような', 'になるように', 'になれ', 'になれあと', 'になれたなら', 'になれない', 'になれなかった', 'になれよ', 'になろうよ', 'にぬき', 'にはあって', 'にはどんな', 'にはない', 'にやると', 'によく', 'によって', 'によっては', 'による', 'によると', 'ぬかな', 'のあなた', 'のあなた', 'のあなた', 'のあなたへ', 'のある', 'のいい', 'のいて', 'のおすすめ', 'のこと', 'のことが', 'のことを', 'のせい', 'のせいで', 'のせいですよ', 'のその', 'のため', 'のために', 'のための', 'のついた', 'のつく', 'のつぶやき', 'のつもり', 'のとこ', 'のとこから', 'のところ', 'のどれかを', 'のない', 'のほうが', 'のほうもよろしく～', 'のまとめ', 'のみの', 'のやつ', 'のような', 'のように', 'はありません', 'はいつも', 'はかなり', 'はここまで', 'はこちら', 'はこの', 'はこれ', 'はさせない', 'はした', 'はしたよ', 'はしない', 'はじめたの', 'はずっとお', 'はその', 'はそろそろ', 'はだいたい', 'はっきり', 'はできる', 'はどうかな', 'はどうして', 'はなぜ', 'はなよ', 'はまったく', 'はみんな', 'はもう', 'はやっぱり', 'は～い', 'ばしました', 'ばない', 'ばないということから', 'ひとまず', 'びくださーい', 'びたい', 'びました', 'びます', 'ぶりに', 'べえを', 'べたい', 'べたいのですね', 'べたよ', 'べちゃうぞ', 'べてみるのも', 'べてる', 'べました', 'べます', 'べやがって', 'べらが', 'べられちゃう', 'べるよ', 'べればいいじゃない', 'ほかてらー', 'ほしい', 'ほどの', 'ほんと', 'ほんとに', 'ぼくの', 'ぼくは', 'まさかの', 'まさに', 'ましい', 'ましすぎて', 'ました', 'ましょ', 'ますかね', 'ますわ', 'またお', 'またね', 'またよろしくお', 'まだあと', 'まぢで', 'まった', 'まったく', 'まったく', 'まってます', 'まであと', 'までは', 'まどか', 'まなくちゃ', 'まらない', 'まりきらない', 'まりそう', 'まるで', 'まれた', 'まれたって', 'まれたのは', 'まれたり', 'まれて', 'まれています', 'まれの', 'まれます', 'まれる', 'みします', 'みたい', 'みたいです', 'みたいな', 'みたいなものなので', 'みたいなものなので', 'みたいに', 'みなさい', 'みなさいませ', 'みなさいませー', 'みなさん', 'みなんだけどさ', 'みました', 'みます', 'みんな', 'みんなと', 'みんなの', 'むから', 'むしろ', 'むの���', 'むんなら', 'めがいいかな', 'めたい', 'めたお', 'めたじゃん', 'めたなう', 'めたみたいなの', 'めたり', 'めだったかな', 'めてください', 'めてくれる', 'めてね', 'めての', 'めてよ', 'めてよう', 'めです', 'めない', 'めないで', 'めなさい', 'めました', 'めまして', 'めます', 'めません', 'めようか', 'めるか', 'めるべき', 'もいい', 'もいきます', 'もいない', 'もきくよ', 'もしかして', 'もしくは', 'もしや', 'もっと', 'もない', 'もないし', 'もなく', 'もねぇ', 'ものすごく', 'もはや', 'もみんな', 'もよかったら', 'やから', 'やった', 'やったなら', 'やったら', 'やってから', 'やってます', 'やっと', 'やっといたら', 'やっぱ', 'やっぱり', 'やなぁ', 'やないよ', 'やはり', 'やばい', 'やると', 'やれば', 'ようぜー', 'ようと', 'ような', 'ように', 'ようやく', 'よかったら', 'よければ', 'よって', 'よりです', 'よりも', 'よろしく', 'よろしくお', 'よろしければ', 'らしい', 'らしさを', 'らせいただければ', 'らせします', 'らせろ', 'らない', 'らないと', 'らないよ', 'らなかった', 'られざる', 'られた', 'られたい', 'られない', 'られる', 'られるし', 'らんけど', 'りいたします', 'りしたい', 'りします', 'りそうですが', 'りたい', 'りつづけて', 'りです', 'りでの', 'りない', 'りないからです', 'りないのか', 'りないませ', 'りなさ', 'りなさい', 'りなさいです', 'りなさいませ', 'りなさいませー', 'りなの', 'りにしか', 'りにしました', 'りのに', 'りのは', 'りました', 'りましたー', 'りましょう', 'りましょうね', 'ります', 'りますか', 'りますが', 'るかな', 'るたん', 'るであろう', 'るという', 'るなう', 'るなって', 'るなら', 'るには', 'るのか', 'るのだ', 'るのは', 'るべき', 'るべし', 'るような', 'るんだ', 'れさせ', 'れさまでした', 'れさまです', 'れさまー', 'れする', 'れたい', 'れたかい', 'れたなう', 'れたので', 'れたよ', 'れたら', 'れだか', 'れっした', 'れている', 'れてた', 'れてないかい', 'れてみた', 'れてる', 'れです', 'れない', 'れないうちに', 'れないし', 'れないのよ', 'れなかった', 'ればいいんだね', 'れました', 'れますね', 'れますように', 'れられない', 'れるだろ', 'れると', 'れるといいな', 'ろうか', 'ろうかな', 'ろうかなと', 'ろしい', 'わかりました', 'わせた', 'わせて', 'わせる', 'わせろ', 'わたし', 'わたしが', 'わたしで', 'わたしと', 'わたしに', 'わたしの', 'わたしは', 'わたしも', 'わたしを', 'わった', 'わったぁ', 'わったら', 'わっちゃう', 'わって', 'わってます', 'わない', 'わないで', 'わないであろう', 'わないと', 'わないよ', 'わねぇか', 'わらず', 'わらない', 'わりか', 'わりと', 'わりますが', 'われた', 'われたい', 'われない', 'われば', 'われました', 'われます', 'われますが', 'われる', 'われると', 'わんのだろう', 'をいつも', 'をかいてください', 'をかいてください', 'をください', 'をした', 'をしたよ', 'をしたら', 'をして', 'をしていて', 'をしています', 'をしない', 'をしますか', 'をしよう', 'をする', 'をすると', 'をするのか', 'をすればのか', 'をずっと', 'をついた', 'をつかって', 'をつかって', 'をつけください', 'をつけて', 'をつけなさい', 'をつける', 'をやった', 'をやってくれる', 'をやめる', 'をやりました', 'をやる', 'んさん', 'んさんが', 'んさんの', 'んさんは', 'んだか', 'んだら', 'んであげてください', 'んでいて', 'んでいない', 'んでいる', 'んできた', 'んでください', 'んでくれると', 'んでない', 'んでました', 'んでやる', 'んでゆけ', 'んでる', 'アイコン', 'アイテム', 'アカウント', 'アタシ', 'アップ', 'アドレス', 'アーティスト', 'イケメン', 'イベント', 'イメージ', 'インストール', 'インターネット', 'オフィシャル', 'オリジナル', 'カップ', 'カンニング', 'ガール', 'キャラ', 'キュゥ', 'キュウ', 'キーボード', 'クラス', 'クラスタ', 'クリア', 'グループ', 'ケータイ', 'ケーブル', 'コード', 'サイト', 'サンタ', 'サービス', 'シリーズ', 'シンプル', 'シーン', 'ジャンル', 'スーパー', 'セット', 'ソフト', 'タイトル', 'チェック', 'チョコ', 'ツイッター', 'ツイート', 'ティロ', 'テレビ', 'テーマ', 'データ', 'トイレ', 'ネット', 'バイト', 'パソコン', 'ファイル', 'ファン', 'フィナーレ', 'フォルダ', 'フォロワー', 'フォロー', 'ブラシ', 'ブログ', 'ブロック', 'プレイ', 'ページ', 'ホント', 'ボタン', 'ポーズ', 'マイリスト', 'マギカ', 'メディア', 'メール', 'モニタ', 'モード', 'モード', 'ユニット', 'リアル', 'リスト', 'リツイート', 'リフォロークラスタ', 'リプライ', 'リムーブ', 'レベル', 'レポート', 'ワタシ', '個人的', '大丈夫', '有意義', '誕生日', 'げてみる', 'かしいものを', 'しくなる', 'もかも', 'にすると', 'にしてください', 'うことを', 'そうだな', 'げてみる', 'かしいものを', 'いていますよ', 'をつこう', 'かさず', 'しております', 'がっていると', 'かれています', 'これからも', 'をとりました', 'してくれた', 'えるかなぁ', 'いじゃないわ', 'したりします', 'いつの', 'わかる', 'しみに', 'たらいいな', 'たらいいなと', 'けてよ', 'しくなる', 'れましたが', 'えします', 'どうせ', 'わります', 'をつけると', 'してくれたみなさん', 'えてくれる', 'えてくれるよ', 'けだった', 'きたくない', 'こっちも', 'てくれると', 'てるのは', 'してくれる', 'かさずに'];
    var denySet = {};
    denyList.forEach(function (word) {
      denySet[word] = true;
    });
    this.denySet = denySet;
  }

  countWords(text) {
    var map = {};

    this.allowList.forEach(function (word) {
      var count = text.split(word).length - 1;
      if (count > 0) {
        map[word] = count;
      }
    });

    var denySet = this.denySet;
    var regexp = /[一-龠〆ヵヶ々]+|[ぁ-んー～]+|[ァ-ヴー～]+|[ａ-ｚＡ-Ｚ０-９]+|[、。！!？?]+/g;
    var match = text.match(regexp);

    match.forEach(function (word) {
      word = word.split(/[？！?!。、ｗ]/).join('');
      word = word.split(/ー{2,}/).join('');

      if (denySet[word] || word.length <= 2) {
        return;
      }

      if (map[word]) {
        map[word]++;
      } else {
        map[word] = 1;
      }
    });

    Object.keys(map).forEach(function (key) {
      if (map[key] && map[key] <= 1) {
        delete map[key];
      }
    });

    var sortable = [];
    Object.keys(map).forEach(function (key) {
      sortable.push([key, map[key]]);
    });

    sortable.sort(function (a, b) { // desc
      return b[1] - a[1];
    });

    return sortable;
  }
}

window.TweetCluster = TweetCluster;
